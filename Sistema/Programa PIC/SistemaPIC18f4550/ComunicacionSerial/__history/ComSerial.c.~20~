#include <18F4550.h>

//#device ICD=TRUE
#fuses HS,NOWDT,NOPROTECT,NOLVP 
#use delay(clock=10000000) 
#use rs232(baud=9600,parity=N,xmit=PIN_C6,rcv=PIN_C7,bits=8)

#use FAST_IO(A) 
#use FAST_IO(B) 

char c;
int1 flagcmd;

#int_rda 
void serial_isr (){
   c = getch();
   flagcmd = 1;
}

void main (){
   enable_interrupts(global);
   enable_interrupts(int_rda);
   while (true){
      if (flagcmd){
         printf("%c",c);
         flagcmd = 0;
      }
      delay_ms(100);
   }
}
