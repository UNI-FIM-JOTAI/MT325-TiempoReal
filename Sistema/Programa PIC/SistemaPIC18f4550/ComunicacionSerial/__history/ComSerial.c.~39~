#include <18F4550.h>

#use delay(clock=10000000)
#use rs232(baud=9600, xmit=PIN_C6,rcv=PIN_C7,bits=8,parity=N)
#fuses HS,NOPROTECT,NOWDT,NOLVP,CPUDIV1,nomclr
#include "lcd.c"
#define Tiempo 200

#byte T0CON=0xFD5
#byte wreg=0xFE8
#byte TOSU=0xFFF
#byte TOSH=0xFFE
#byte TOSL=0xFFD

char  rcvchar=0x00;
int1  flagcmd=0;

void inte_Init()
{
   enable_interrupts(GLOBAL);
   enable_interrupts(INT_RDA);
}

#INT_RDA
void serial_isr()
{
   printf("R1");
   rcvchar = getc();
   flagcmd = 1;
}

void main(void)
{
   inte_Init();
   while(true){
      if(flagcmd == 1){
         printf("com %c", rcvchar );
         flagcmd = 0;
      }
   }
}

